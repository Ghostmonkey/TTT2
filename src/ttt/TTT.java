package ttt;

import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import javax.swing.ImageIcon;
import javax.swing.JButton;

/**
 *
 * @author Daniel Karlsson
 */
public class TTT extends javax.swing.JFrame implements KeyListener {

    private CreateDialogue createDialogue;
    private ConnectDialogue connectDialogue;
    private ImageIcon ring;
    private ImageIcon cross;
    private ImageIcon sRing;
    private ImageIcon sCross;
    private TTTLogic logic;
    private int newChatMessages;
    private int newSystemMessages;
    private ImageIcon playerIcon;
    private ImageIcon sPlayerIcon;
    private ImageIcon opponentIcon;

    /**
     * Creates new form TTT
     */
    public TTT() {
        initComponents();
        this.setLocationRelativeTo(null);
        ring = new javax.swing.ImageIcon(getClass().getResource("/ttt/ring.png"));
        cross = new javax.swing.ImageIcon(getClass().getResource("/ttt/cross.png"));
        sRing = new javax.swing.ImageIcon(getClass().getResource("/ttt/sRing.png"));
        sCross = new javax.swing.ImageIcon(getClass().getResource("/ttt/sCross.png"));
        jTextFieldChat.addKeyListener(this);
        logic = new TTTLogic(this);
        this.setTitle("Tic Tac Toe");
        newChatMessages = 0;
        newSystemMessages = 0;
        String message = "201:From:x0y0To:x1y2";
        System.out.println(message.substring(message.indexOf("From:")+5, message.indexOf("From:")+9));
        System.out.println(message.substring(message.indexOf("To:")+3, message.indexOf("To:")+7));
        //System.out.println("201:From:x0y0To:x1y2".substring("201:From:x0y0To:x1y2".indexOf(("From:")+1), "201:From:x0y0To:x1y2".indexOf(("From:")+5)));
        int toint = 0;
        String to = "x2y2";
        String from = "x0y0";
        int bank = 3;
        if(!(toint == 0)){
            System.out.println("Invalido");
        }
        if((from.equalsIgnoreCase("x0y0") || from.equalsIgnoreCase("x9y9")) && bank <= 0){
            System.out.println("Invalido");
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jInternalFrame1 = new javax.swing.JInternalFrame();
        jPanelField = new javax.swing.JPanel();
        jButton_x1y3 = new javax.swing.JButton();
        jButton_x2y3 = new javax.swing.JButton();
        jButton_x1y2 = new javax.swing.JButton();
        jButton_x2y2 = new javax.swing.JButton();
        jButton_x3y3 = new javax.swing.JButton();
        jButton_x3y2 = new javax.swing.JButton();
        jButton_x1y1 = new javax.swing.JButton();
        jButton_x3y1 = new javax.swing.JButton();
        jButton_x2y1 = new javax.swing.JButton();
        jButtonDone = new javax.swing.JButton();
        jPanelBank = new javax.swing.JPanel();
        jLabelBank2 = new javax.swing.JLabel();
        jLabelBank3 = new javax.swing.JLabel();
        jLabelBank1 = new javax.swing.JLabel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanel2 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTextAreaChat = new javax.swing.JTextArea();
        jBtnSend = new javax.swing.JButton();
        jTextFieldChat = new javax.swing.JTextField();
        jPanel5 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTextAreaSystem = new javax.swing.JTextArea();
        jPanel_x1y2 = new javax.swing.JPanel();
        jLabel_x1y3 = new javax.swing.JLabel();
        jLabel_x1y2 = new javax.swing.JLabel();
        jLabel_x1y1 = new javax.swing.JLabel();
        jLabel_x3y3 = new javax.swing.JLabel();
        jLabel_x2y3 = new javax.swing.JLabel();
        jLabel_x3y2 = new javax.swing.JLabel();
        jLabel_x2y2 = new javax.swing.JLabel();
        jLabel_x3y1 = new javax.swing.JLabel();
        jLabel_x2y1 = new javax.swing.JLabel();
        jLabelPlayerNumber = new javax.swing.JLabel();
        jLabelMoveTo = new javax.swing.JLabel();
        jLabelMoveFrom = new javax.swing.JLabel();
        jButtonUpdate = new javax.swing.JButton();
        jLabelBank = new javax.swing.JLabel();
        jTextFieldFrom = new javax.swing.JTextField();
        jTextFieldTo = new javax.swing.JTextField();
        jLabelMoveTo1 = new javax.swing.JLabel();
        jLabelMoveFrom1 = new javax.swing.JLabel();
        jLabelBank4 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jLabelBank5 = new javax.swing.JLabel();
        jLabelOBank = new javax.swing.JLabel();
        jMenuBar1 = new javax.swing.JMenuBar();
        jMenu1 = new javax.swing.JMenu();
        jMenuItemConnect = new javax.swing.JMenuItem();
        jMenuItemCreate = new javax.swing.JMenuItem();
        jMenuItemQuit = new javax.swing.JMenuItem();

        jInternalFrame1.setVisible(true);

        javax.swing.GroupLayout jInternalFrame1Layout = new javax.swing.GroupLayout(jInternalFrame1.getContentPane());
        jInternalFrame1.getContentPane().setLayout(jInternalFrame1Layout);
        jInternalFrame1Layout.setHorizontalGroup(
            jInternalFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );
        jInternalFrame1Layout.setVerticalGroup(
            jInternalFrame1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);

        jPanelField.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jButton_x1y3.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x1y3.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x1y3.setName("x1y3"); // NOI18N
        jButton_x1y3.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x1y3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x1y3ActionPerformed(evt);
            }
        });

        jButton_x2y3.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x2y3.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x2y3.setName("x2y3"); // NOI18N
        jButton_x2y3.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x2y3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x2y3ActionPerformed(evt);
            }
        });

        jButton_x1y2.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x1y2.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x1y2.setName("x1y2"); // NOI18N
        jButton_x1y2.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x1y2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x1y2ActionPerformed(evt);
            }
        });

        jButton_x2y2.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x2y2.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x2y2.setName("x2y2"); // NOI18N
        jButton_x2y2.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x2y2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x2y2ActionPerformed(evt);
            }
        });

        jButton_x3y3.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x3y3.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x3y3.setName("x3y3"); // NOI18N
        jButton_x3y3.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x3y3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x3y3ActionPerformed(evt);
            }
        });

        jButton_x3y2.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x3y2.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x3y2.setName("x3y2"); // NOI18N
        jButton_x3y2.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x3y2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x3y2ActionPerformed(evt);
            }
        });

        jButton_x1y1.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x1y1.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x1y1.setName("x1y1"); // NOI18N
        jButton_x1y1.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x1y1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x1y1ActionPerformed(evt);
            }
        });

        jButton_x3y1.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x3y1.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x3y1.setName("x3y1"); // NOI18N
        jButton_x3y1.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x3y1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x3y1ActionPerformed(evt);
            }
        });

        jButton_x2y1.setMaximumSize(new java.awt.Dimension(73, 73));
        jButton_x2y1.setMinimumSize(new java.awt.Dimension(73, 73));
        jButton_x2y1.setName("x2y1"); // NOI18N
        jButton_x2y1.setPreferredSize(new java.awt.Dimension(73, 73));
        jButton_x2y1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton_x2y1ActionPerformed(evt);
            }
        });

        jButtonDone.setText("Done");
        jButtonDone.setMaximumSize(new java.awt.Dimension(73, 23));
        jButtonDone.setMinimumSize(new java.awt.Dimension(73, 23));
        jButtonDone.setPreferredSize(new java.awt.Dimension(73, 23));
        jButtonDone.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonDoneActionPerformed(evt);
            }
        });

        jLabelBank2.setMaximumSize(new java.awt.Dimension(23, 23));
        jLabelBank2.setMinimumSize(new java.awt.Dimension(23, 23));
        jLabelBank2.setPreferredSize(new java.awt.Dimension(23, 23));

        jLabelBank3.setMaximumSize(new java.awt.Dimension(23, 23));
        jLabelBank3.setMinimumSize(new java.awt.Dimension(23, 23));
        jLabelBank3.setPreferredSize(new java.awt.Dimension(23, 23));

        jLabelBank1.setMaximumSize(new java.awt.Dimension(23, 23));
        jLabelBank1.setMinimumSize(new java.awt.Dimension(23, 23));
        jLabelBank1.setPreferredSize(new java.awt.Dimension(23, 23));

        javax.swing.GroupLayout jPanelBankLayout = new javax.swing.GroupLayout(jPanelBank);
        jPanelBank.setLayout(jPanelBankLayout);
        jPanelBankLayout.setHorizontalGroup(
            jPanelBankLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelBankLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabelBank1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabelBank2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabelBank3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(55, Short.MAX_VALUE))
        );
        jPanelBankLayout.setVerticalGroup(
            jPanelBankLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabelBank2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addComponent(jLabelBank3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
            .addComponent(jLabelBank1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        javax.swing.GroupLayout jPanelFieldLayout = new javax.swing.GroupLayout(jPanelField);
        jPanelField.setLayout(jPanelFieldLayout);
        jPanelFieldLayout.setHorizontalGroup(
            jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelFieldLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelFieldLayout.createSequentialGroup()
                        .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelFieldLayout.createSequentialGroup()
                                .addComponent(jButton_x1y1, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jButton_x2y1, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jPanelBank, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jButton_x3y1, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButtonDone, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanelFieldLayout.createSequentialGroup()
                        .addComponent(jButton_x1y3, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton_x2y3, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton_x3y3, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanelFieldLayout.createSequentialGroup()
                        .addComponent(jButton_x1y2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton_x2y2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton_x3y2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanelFieldLayout.setVerticalGroup(
            jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelFieldLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButton_x2y3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_x1y3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_x3y3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButton_x1y2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_x2y2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_x3y2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jButton_x2y1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_x1y1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton_x3y1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelFieldLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jButtonDone, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanelBank, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jTabbedPane1StateChanged(evt);
            }
        });

        jTextAreaChat.setColumns(20);
        jTextAreaChat.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        jTextAreaChat.setLineWrap(true);
        jTextAreaChat.setRows(5);
        jTextAreaChat.setWrapStyleWord(true);
        jTextAreaChat.setEnabled(false);
        jScrollPane1.setViewportView(jTextAreaChat);

        jBtnSend.setText("Send");
        jBtnSend.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtnSendActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 323, Short.MAX_VALUE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jTextFieldChat)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jBtnSend)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 207, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jBtnSend)
                    .addComponent(jTextFieldChat, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        jTabbedPane1.addTab("Chat", jPanel2);

        jTextAreaSystem.setColumns(20);
        jTextAreaSystem.setFont(new java.awt.Font("Tahoma", 0, 11)); // NOI18N
        jTextAreaSystem.setRows(5);
        jTextAreaSystem.setEnabled(false);
        jScrollPane2.setViewportView(jTextAreaSystem);

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 323, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 236, Short.MAX_VALUE)
                .addContainerGap())
        );

        jTabbedPane1.addTab("System", jPanel5);

        jPanel_x1y2.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel_x1y3.setText("X");

        jLabel_x1y2.setText("X");

        jLabel_x1y1.setText("X");

        jLabel_x3y3.setText("X");

        jLabel_x2y3.setText("X");

        jLabel_x3y2.setText("X");

        jLabel_x2y2.setText("X");

        jLabel_x3y1.setText("X");

        jLabel_x2y1.setText("X");

        jLabelPlayerNumber.setText("Player nr:");

        jLabelMoveTo.setText("MoveFrom: ");

        jLabelMoveFrom.setText("MoveTo:");

        jButtonUpdate.setText("Update");
        jButtonUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonUpdateActionPerformed(evt);
            }
        });

        jLabelBank.setText("Bank:");

        jTextFieldFrom.setText("x0y0");
        jTextFieldFrom.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldFromActionPerformed(evt);
            }
        });

        jTextFieldTo.setText("x2y2");

        jLabelMoveTo1.setText("MoveFrom: ");

        jLabelMoveFrom1.setText("MoveTo:");

        jLabelBank4.setText("Bank:");

        jButton1.setText("Set");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jLabelBank5.setText("Other Bank:");

        jLabelOBank.setText("Other Bank:");

        javax.swing.GroupLayout jPanel_x1y2Layout = new javax.swing.GroupLayout(jPanel_x1y2);
        jPanel_x1y2.setLayout(jPanel_x1y2Layout);
        jPanel_x1y2Layout.setHorizontalGroup(
            jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                        .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                                .addComponent(jLabel_x1y3)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel_x2y3)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel_x3y3)
                                .addGap(18, 18, 18)
                                .addComponent(jLabelMoveTo1))
                            .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                                .addComponent(jLabel_x1y2)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel_x2y2)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel_x3y2)
                                .addGap(18, 18, 18)
                                .addComponent(jLabelMoveFrom1)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelMoveFrom)
                            .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                                .addComponent(jLabelMoveTo)
                                .addGap(28, 28, 28)
                                .addComponent(jLabelBank5)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabelOBank))))
                    .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                        .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelPlayerNumber)
                            .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                                .addComponent(jLabel_x1y1)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel_x2y1)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel_x3y1)
                                .addGap(18, 18, 18)
                                .addComponent(jLabelBank4)))
                        .addGap(36, 36, 36)
                        .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelBank)
                            .addComponent(jButtonUpdate))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTextFieldTo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jTextFieldFrom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton1))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel_x1y2Layout.setVerticalGroup(
            jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel_x1y3)
                        .addComponent(jLabel_x2y3)
                        .addComponent(jLabel_x3y3)
                        .addComponent(jTextFieldFrom, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabelMoveTo1)
                        .addComponent(jLabelMoveTo)
                        .addComponent(jLabelBank5)
                        .addComponent(jLabelOBank)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel_x1y2)
                    .addComponent(jLabel_x2y2)
                    .addComponent(jLabel_x3y2)
                    .addComponent(jLabelMoveFrom)
                    .addComponent(jTextFieldTo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelMoveFrom1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel_x1y2Layout.createSequentialGroup()
                        .addGroup(jPanel_x1y2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel_x1y1)
                            .addComponent(jLabel_x2y1)
                            .addComponent(jLabel_x3y1)
                            .addComponent(jLabelBank)
                            .addComponent(jLabelBank4))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabelPlayerNumber))
                    .addComponent(jButton1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jButtonUpdate))
        );

        jMenu1.setText("File");

        jMenuItemConnect.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_G, java.awt.event.InputEvent.ALT_MASK));
        jMenuItemConnect.setText("Connect to game");
        jMenuItemConnect.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemConnectActionPerformed(evt);
            }
        });
        jMenu1.add(jMenuItemConnect);

        jMenuItemCreate.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_C, java.awt.event.InputEvent.ALT_MASK));
        jMenuItemCreate.setText("Create Game");
        jMenuItemCreate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemCreateActionPerformed(evt);
            }
        });
        jMenu1.add(jMenuItemCreate);

        jMenuItemQuit.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_Q, java.awt.event.InputEvent.ALT_MASK));
        jMenuItemQuit.setText("Quit");
        jMenuItemQuit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemQuitActionPerformed(evt);
            }
        });
        jMenu1.add(jMenuItemQuit);

        jMenuBar1.add(jMenu1);

        setJMenuBar(jMenuBar1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel_x1y2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanelField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 348, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanelField, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jTabbedPane1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel_x1y2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jMenuItemCreateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemCreateActionPerformed
        createDialogue = new CreateDialogue(this, true);
        createDialogue.setLocationRelativeTo(this);
        createDialogue.setVisible(true);
        if (createDialogue.ok()) {
            int port;
            port = createDialogue.getPort();
            String ipAddress;
            ipAddress = createDialogue.getIpAddress();
            createDialogue.dispose();
            logic.listen(ipAddress, port);
        }
    }//GEN-LAST:event_jMenuItemCreateActionPerformed

    private void jButton_x1y3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x1y3ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x1y3ActionPerformed

    private void jButton_x2y3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x2y3ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x2y3ActionPerformed

    private void jButton_x1y2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x1y2ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x1y2ActionPerformed

    private void jButton_x2y2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x2y2ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x2y2ActionPerformed

    private void jButton_x3y3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x3y3ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x3y3ActionPerformed

    private void jButton_x3y2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x3y2ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x3y2ActionPerformed

    private void jButton_x1y1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x1y1ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName); 
    }//GEN-LAST:event_jButton_x1y1ActionPerformed

    private void jButton_x3y1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x3y1ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
        
    }//GEN-LAST:event_jButton_x3y1ActionPerformed

    private void jButton_x2y1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton_x2y1ActionPerformed
       JButton button = (javax.swing.JButton) evt.getSource();
       String buttonName;
       buttonName = button.getName();
       procClick(button, buttonName);
    }//GEN-LAST:event_jButton_x2y1ActionPerformed

    private void jBtnSendActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtnSendActionPerformed
        sendChatMessage();
    }//GEN-LAST:event_jBtnSendActionPerformed

    private void jMenuItemConnectActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemConnectActionPerformed
        connectDialogue = new ConnectDialogue(this, true);
        connectDialogue.setLocationRelativeTo(this);
        int port;
        String ipAddress;
        connectDialogue.setVisible(true);
        if (connectDialogue.ok()) {
            ipAddress = connectDialogue.getIpadress();
            port = connectDialogue.getPort();
            System.out.println(ipAddress + " " + port);
            connectDialogue.dispose();
            //Cancel what happens
            logic.connect(ipAddress, port);
        }
    }//GEN-LAST:event_jMenuItemConnectActionPerformed

    private void jMenuItemQuitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemQuitActionPerformed
        System.exit(0);
    }//GEN-LAST:event_jMenuItemQuitActionPerformed

    private void jButtonDoneActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonDoneActionPerformed
        if(!logic.getFrom().equalsIgnoreCase("") && !logic.getTo().equalsIgnoreCase("")){
            logic.makeMove();
        }
    }//GEN-LAST:event_jButtonDoneActionPerformed

    private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jTabbedPane1StateChanged
        int selectedTab;
        selectedTab = jTabbedPane1.getSelectedIndex();
        if (selectedTab == 0) {
            jTabbedPane1.setTitleAt(0, "Chat");
            newChatMessages = 0;
        }
        if (selectedTab == 1) {
            jTabbedPane1.setTitleAt(1, "System");
            newSystemMessages = 0;
        }
    }//GEN-LAST:event_jTabbedPane1StateChanged

    private void jButtonUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonUpdateActionPerformed
        jLabel_x1y1.setText(Integer.toString(logic.getX1y1()));
        jLabel_x1y2.setText(Integer.toString(logic.getX1y2()));
        jLabel_x1y3.setText(Integer.toString(logic.getX1y3()));
        jLabel_x2y1.setText(Integer.toString(logic.getX2y1()));
        jLabel_x2y2.setText(Integer.toString(logic.getX2y2()));
        jLabel_x2y3.setText(Integer.toString(logic.getX2y3()));
        jLabel_x3y1.setText(Integer.toString(logic.getX3y1()));
        jLabel_x3y2.setText(Integer.toString(logic.getX3y2()));
        jLabel_x3y3.setText(Integer.toString(logic.getX3y3()));
        jLabelPlayerNumber.setText(Integer.toString(logic.getPlayer()));
        jLabelMoveTo.setText(logic.getFrom());
        jLabelMoveFrom.setText(logic.getTo());
        jLabelBank.setText(Integer.toString(logic.getBank()));
        jLabelOBank.setText(Integer.toString(logic.getOBank()));
    }//GEN-LAST:event_jButtonUpdateActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        logic.setFrom(jTextFieldFrom.getText());
        logic.setTo(jTextFieldTo.getText());
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jTextFieldFromActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldFromActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldFromActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Windows".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(TTT.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(TTT.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(TTT.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(TTT.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new TTT().setVisible(true);
            }
        });
    }

    //Append message to chat log
    public void appendChatMessage(String message) {
        jTextAreaChat.append(message + "\n");
        jTextAreaChat.setCaretPosition(jTextAreaChat.getDocument().getLength());
        newChatMessages++;
        if (jTabbedPane1.getSelectedIndex() != 0) {
            jTabbedPane1.setTitleAt(0, "Chat (" + newChatMessages + ")");
        }
    }

    //Appends message to system log
    public void appendSystemMessage(String message) {
        jTextAreaSystem.append(message + "\n");
        jTextAreaSystem.setCaretPosition(jTextAreaSystem.getDocument().getLength());
        newSystemMessages++;
        if (jTabbedPane1.getSelectedIndex() != 1) {
            jTabbedPane1.setTitleAt(1, "System (" + newSystemMessages + ")");
        }
    }

    public void sendChatMessage() {
        if (!jTextFieldChat.getText().equalsIgnoreCase("")) {
            logic.sendChatMessage(jTextFieldChat.getText());
            System.out.println(jTextFieldChat.getText());
            jTextFieldChat.setText("");
        }
    }

    public void setTo(JButton button){
        logic.setTo(button.getName());
        jTextFieldTo.setText(button.getName());
    }
    
    public void setFrom(JButton button){
        logic.setFrom(button.getName());
        jTextFieldFrom.setText(button.getName());
    }
    
    public void setRole(String role) {
        if (role.equalsIgnoreCase("server")) {
            this.setTitle(this.getTitle() + " - Server - Player " + logic.getPlayer());
            jMenuItemConnect.setEnabled(false);
            jMenuItemCreate.setEnabled(false);
            playerIcon = cross;
            sPlayerIcon = sCross;
            opponentIcon = ring;
        } else if (role.equalsIgnoreCase("client")) {
            this.setTitle(this.getTitle() + " - Client - Player " + logic.getPlayer());
            jMenuItemConnect.setEnabled(false);
            jMenuItemCreate.setEnabled(false);
            playerIcon = ring;
            sPlayerIcon = sRing;
            opponentIcon = cross;
        }
    }

    @Override
    public void keyPressed(KeyEvent e) {
        int key = e.getKeyCode();
        if (key == KeyEvent.VK_ENTER) {
            sendChatMessage();
        }
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jBtnSend;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButtonDone;
    private javax.swing.JButton jButtonUpdate;
    private javax.swing.JButton jButton_x1y1;
    private javax.swing.JButton jButton_x1y2;
    private javax.swing.JButton jButton_x1y3;
    private javax.swing.JButton jButton_x2y1;
    private javax.swing.JButton jButton_x2y2;
    private javax.swing.JButton jButton_x2y3;
    private javax.swing.JButton jButton_x3y1;
    private javax.swing.JButton jButton_x3y2;
    private javax.swing.JButton jButton_x3y3;
    private javax.swing.JInternalFrame jInternalFrame1;
    private javax.swing.JLabel jLabelBank;
    private javax.swing.JLabel jLabelBank1;
    private javax.swing.JLabel jLabelBank2;
    private javax.swing.JLabel jLabelBank3;
    private javax.swing.JLabel jLabelBank4;
    private javax.swing.JLabel jLabelBank5;
    private javax.swing.JLabel jLabelMoveFrom;
    private javax.swing.JLabel jLabelMoveFrom1;
    private javax.swing.JLabel jLabelMoveTo;
    private javax.swing.JLabel jLabelMoveTo1;
    private javax.swing.JLabel jLabelOBank;
    private javax.swing.JLabel jLabelPlayerNumber;
    private javax.swing.JLabel jLabel_x1y1;
    private javax.swing.JLabel jLabel_x1y2;
    private javax.swing.JLabel jLabel_x1y3;
    private javax.swing.JLabel jLabel_x2y1;
    private javax.swing.JLabel jLabel_x2y2;
    private javax.swing.JLabel jLabel_x2y3;
    private javax.swing.JLabel jLabel_x3y1;
    private javax.swing.JLabel jLabel_x3y2;
    private javax.swing.JLabel jLabel_x3y3;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JMenuBar jMenuBar1;
    private javax.swing.JMenuItem jMenuItemConnect;
    private javax.swing.JMenuItem jMenuItemCreate;
    private javax.swing.JMenuItem jMenuItemQuit;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanelBank;
    private javax.swing.JPanel jPanelField;
    private javax.swing.JPanel jPanel_x1y2;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextArea jTextAreaChat;
    private javax.swing.JTextArea jTextAreaSystem;
    private javax.swing.JTextField jTextFieldChat;
    private javax.swing.JTextField jTextFieldFrom;
    private javax.swing.JTextField jTextFieldTo;
    // End of variables declaration//GEN-END:variables

    @Override
    public void keyTyped(KeyEvent e) {
    }

    @Override
    public void keyReleased(KeyEvent e) {
    }

    private void enableChat(boolean enable) {
        jTextFieldChat.setEnabled(enable);
    }

    public void enableField(boolean enable) {
        if (enable) {
            jButton_x1y1.setEnabled(true);
            jButton_x1y2.setEnabled(true);
            jButton_x1y3.setEnabled(true);
            jButton_x2y1.setEnabled(true);
            jButton_x2y2.setEnabled(true);
            jButton_x2y3.setEnabled(true);
            jButton_x3y1.setEnabled(true);
            jButton_x3y2.setEnabled(true);
            jButton_x3y3.setEnabled(true);
            jLabelBank1.setEnabled(true);
            jLabelBank2.setEnabled(true);
            jLabelBank3.setEnabled(true);
            jButtonDone.setEnabled(true);
            System.out.println("Enabling");
        } else {
            jButton_x1y1.setEnabled(false);
            jButton_x1y2.setEnabled(false);
            jButton_x1y3.setEnabled(false);
            jButton_x2y1.setEnabled(false);
            jButton_x2y2.setEnabled(false);
            jButton_x2y3.setEnabled(false);
            jButton_x3y1.setEnabled(false);
            jButton_x3y2.setEnabled(false);
            jButton_x3y3.setEnabled(false);
            jLabelBank1.setEnabled(false);
            jLabelBank2.setEnabled(false);
            jLabelBank3.setEnabled(false);
            jButtonDone.setEnabled(false);
            System.out.println("Diabling");
        }

    }

    public void updateField() {
        //This method updates the playing field according to the settings in the logic variables
        //The buttons belonging to the opponent are disabled 
        System.out.println("Field updating");
        //Get the string representation of players bank and set from to this if the bank has tokens
        if(logic.getBank() > 0){
            logic.setFrom(logic.getPlayerBank());
        }else{
            logic.setFrom("");
        }
        
        //Bank
        if (logic.getBank() > 0) {
            jLabelBank1.setIcon(sPlayerIcon);
            if (logic.getBank() > 1) {
                jLabelBank2.setIcon(sPlayerIcon);
                if (logic.getBank() > 2) {
                    jLabelBank3.setIcon(sPlayerIcon);
                }
            }
        }
        
        updateButtons(jButton_x1y1);
        updateButtons(jButton_x1y2);
        updateButtons(jButton_x1y3);
        updateButtons(jButton_x2y1);
        updateButtons(jButton_x2y2);
        updateButtons(jButton_x2y3);
        updateButtons(jButton_x3y1);
        updateButtons(jButton_x3y2);
        updateButtons(jButton_x3y3);
        
        /*Will try to do one method out of all of these
        //X1Y1
        if (logic.getX1y1() == 0 || logic.getX1y1() == logic.getPlayer()) {
            jButton_x1y1.setEnabled(true);
            if (logic.getX1y1() == logic.getPlayer()) {
                jButton_x1y1.setIcon(playerIcon);
            }
        } else {
            jButton_x1y1.setEnabled(false);
            jButton_x1y1.setIcon(opponentIcon);
        }
        //X1Y2
        if (logic.getX1y2() == 0 || logic.getX1y2() == logic.getPlayer()) {
            jButton_x1y2.setEnabled(true);
            if (logic.getX1y2() == logic.getPlayer()) {
                jButton_x1y2.setIcon(playerIcon);
            }
        } else {
            jButton_x1y2.setEnabled(false);
            jButton_x1y2.setIcon(opponentIcon);
        }
        //X1Y3
        if (logic.getX1y3() == 0 || logic.getX1y3() == logic.getPlayer()) {
            jButton_x1y3.setEnabled(true);
            if (logic.getX1y3() == logic.getPlayer()) {
                jButton_x1y3.setIcon(playerIcon);
            }
        } else {
            jButton_x1y3.setEnabled(false);
            jButton_x1y3.setIcon(opponentIcon);
        }
        //X2Y1
        if (logic.getX2y1() == 0 || logic.getX2y1() == logic.getPlayer()) {
            jButton_x2y1.setEnabled(true);
            if (logic.getX2y1() == logic.getPlayer()) {
                jButton_x2y1.setIcon(playerIcon);
            }
        } else {
            jButton_x2y1.setEnabled(false);
            jButton_x2y1.setIcon(opponentIcon);
        }
        //X2Y2
        if (logic.getX2y2() == 0 || logic.getX2y2() == logic.getPlayer()) {
            jButton_x2y2.setEnabled(true);
            if (logic.getX2y2() == logic.getPlayer()) {
                jButton_x2y2.setIcon(playerIcon);
            }
        } else {
            jButton_x2y2.setEnabled(false);
            jButton_x2y2.setIcon(opponentIcon);
        }
        //X2Y3
        if (logic.getX2y3() == 0 || logic.getX2y3() == logic.getPlayer()) {
            jButton_x2y3.setEnabled(true);
            if (logic.getX2y3() == logic.getPlayer()) {
                jButton_x2y3.setIcon(playerIcon);
            }
        } else {
            jButton_x2y3.setEnabled(false);
            jButton_x2y3.setIcon(opponentIcon);
        }
        //X3Y1
        if (logic.getX3y1() == 0 || logic.getX3y1() == logic.getPlayer()) {
            jButton_x3y1.setEnabled(true);
            if (logic.getX3y1() == logic.getPlayer()) {
                jButton_x3y1.setIcon(playerIcon);
            }
        } else {
            jButton_x3y1.setEnabled(false);
            jButton_x3y1.setIcon(opponentIcon);
        }
        //X3Y2
        if (logic.getX3y2() == 0 || logic.getX3y2() == logic.getPlayer()) {
            jButton_x3y2.setEnabled(true);
            if (logic.getX3y2() == logic.getPlayer()) {
                jButton_x3y2.setIcon(playerIcon);
            }
        } else {
            jButton_x3y2.setEnabled(false);
            jButton_x3y2.setIcon(opponentIcon);
        }
        //X3Y3
        if (logic.getX3y3() == 0 || logic.getX3y3() == logic.getPlayer()) {
            jButton_x3y3.setEnabled(true);
            if (logic.getX3y3() == logic.getPlayer()) {
                jButton_x3y3.setIcon(playerIcon);
            }
        } else {
            jButton_x3y3.setEnabled(false);
            jButton_x3y3.setIcon(opponentIcon);
        }*/
    }
    
    public void updateButtons(JButton button){
        //Checks if button should be enabled or not
        if(logic.getButtonNr(button.getName()) == logic.getPlayer() || logic.getButtonNr(button.getName()) == 0 ){
            button.setEnabled(true);
            //Checks if button should have the players icon
            if(logic.getButtonNr(button.getName()) == logic.getPlayer()){
                button.setIcon(playerIcon);
            }else{
                button.setIcon(null);
            }
        }else{
            button.setEnabled(false);
            button.setIcon(opponentIcon);
        }
    }
    
    //Method that processes klicking on buttons on the playingfield
    private void procClick(JButton btn, String buttonName){ 
        System.out.println(btn.getName());
        if(!logic.getFrom().equalsIgnoreCase("") && logic.getButtonNr(buttonName) == 0 && !(logic.getTo().equalsIgnoreCase(btn.getName()))){//Om from är satt knappen är noll och to inte är knappen sätt dit ikon sätt to
            btn.setIcon(playerIcon);
            //Om bank ta bort en icon
            if(logic.getFrom().equalsIgnoreCase(logic.getPlayerBank())){
                jLabelBank1.setIcon(null);
                jLabelBank2.setIcon(null);
                jLabelBank3.setIcon(null);
                if (logic.getBank() > 1) {
                    jLabelBank1.setIcon(sPlayerIcon);
                    if (logic.getBank() > 2) {
                        jLabelBank2.setIcon(sPlayerIcon);
                    }
                }
            }
            logic.setTo(btn.getName());
            System.out.println("Sätter");
        }else if (logic.getFrom().equalsIgnoreCase("") && logic.getButtonNr(buttonName) == logic.getPlayer()){//Om from är tom och knappen är spelarens Ta bort spelaricon sätt from
            btn.setIcon(null);
            logic.setFrom(btn.getName());
        }else if(logic.getFrom().equalsIgnoreCase(btn.getName()) && logic.getTo().equalsIgnoreCase("")){//Om from är = knappens namn sätt tillbaka ikon och sätt from till noll
            btn.setIcon(playerIcon);
            logic.setFrom("");
        } else if(logic.getTo().equalsIgnoreCase(btn.getName())){//Om to = knappen ta bort ikon sätt to till inget
            System.out.println("Sätter tillbaka");
            btn.setIcon(null);
            logic.setTo("");
        }
    }   
}
